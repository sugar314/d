<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>Flash Cards</title>
	<link rel="stylesheet" href="stylesheet.css">
</head>
<body>	
	
	<div class="title-top">
		<h1>第４回英単語テスト</h1>	

	<div id="card">
		<div id="card-front"></div>
		<div id="card-back"></div>
	</div>
	<div id="btn">NEXT</div>
	<script>
		(function() {
			'use strict';

			var words = [
   {'ja': 'generation', 'en': '世代'},
   {'ja': 'movement', 'en': '(政治的・社会的な)運動　'},
   {'ja': 'statement', 'en': '声明'},
   {'ja': 'means', 'en': '手段　'},
   {'ja': 'expert', 'en': '専門家'},
   {'ja': 'intelligence', 'en': '知能'},
   {'ja': 'stage', 'en': '(変化・発展の)段階'},
   {'ja': 'variety', 'en': '<a variety of Aで>いろいろなA　'},
   {'ja': 'industry', 'en': '産業'},
   {'ja': 'patient', 'en': '患者'},
   {'ja': 'conversation', 'en': '会話'},
   {'ja': 'clothes', 'en': '服'},
   {'ja': 'pressure', 'en': '(社会的な)圧力　'},
   {'ja': 'position', 'en': '位置　'},
   {'ja': 'degree', 'en': '(温度・角度などの)度　'},
   {'ja': 'range', 'en': '範囲　[動] (～の範囲に)及ぶ'},
   {'ja': 'access', 'en': '(場所への)接近(方法)　'},
   {'ja': 'importance', 'en': '重要性'},
   {'ja': 'neighbor', 'en': '隣人'},
   {'ja': 'policy', 'en': '政策'},
   {'ja': 'indicate', 'en': '(調査などが)～を示す　'},
   {'ja': 'refer', 'en': '<refer to Aで>Aに言及する　'},
   {'ja': 'manage', 'en': '～を経営する'},
   {'ja': 'focus', 'en': '(注意・意識など)を集中させる　'},
   {'ja': 'promote', 'en': '～を促進する'},
   {'ja': 'observe', 'en': '～を観察する　'},
   {'ja': 'raise', 'en': '(物・料金など)を上げる'},
   {'ja': 'maintain', 'en': '～を維持する'},
   {'ja': 'search', 'en': '(場所など)を捜す'},
   {'ja': 'discuss', 'en': '～について話し合う'},
   {'ja': 'media', 'en': '<the (mass) mediaで>(マス)メディア'},
   {'ja': 'factor', 'en': '要因'},
   {'ja': 'distance', 'en': '距離　'},
   {'ja': 'standard', 'en': '水準'},
   {'ja': 'volunteer', 'en': 'ボランティア'},
   {'ja': 'resource', 'en': '<resourcesで>資源　'},
   {'ja': 'customer', 'en': '(商店・企業などの)顧客'},
   {'ja': 'strategy', 'en': '戦略'},
   {'ja': 'region', 'en': '(広大な)地域'},
   {'ja': 'evidence', 'en': '証拠'},
   {'ja': 'according', 'en': '<according to Aで>Aによれば'},
   {'ja': 'rather', 'en': '<A rather than Bで>BよりもむしろA　'},
   {'ja': 'probably', 'en': 'たぶん'},
   {'ja': 'perhaps', 'en': 'ひょっとすると'},
   {'ja': 'instead', 'en': '(その)代わりに'},
   {'ja': 'especially', 'en': '特に'},
   {'ja': 'simply', 'en': '単に'},
   {'ja': 'therefore', 'en': 'それゆえ'},
   {'ja': 'thus', 'en': 'したがって'},
   {'ja': 'indeed', 'en': '本当に'},
   {'ja': 'exactly', 'en': '正確に'},
   {'ja': 'nearly', 'en': 'ほとんど'},
   {'ja': 'further', 'en': '(程度が)さらに　'},
   {'ja': 'immediately', 'en': 'すぐに'},
   {'ja': 'forward', 'en': '前へ'},
   {'ja': 'extremely', 'en': '極めて'},
   {'ja': 'eventually', 'en': '結局は'},
   {'ja': 'hardly', 'en': 'ほとんど～ない　(同) scarcely [発音]'},
   {'ja': 'ahead', 'en': '(位置的に)前方に[を]　'},
   {'ja': 'highly', 'en': '高度に'}
			];


			var card = document.getElementById('card');
			var cardFront = document.getElementById('card-front');
			var cardBack = document.getElementById('card-back');
			var btn = document.getElementById('btn');
			card.addEventListener('click', function() {
				flip();
			});
			btn.addEventListener('click', function() {
				next();
			});

			function next() {
				if (card.className === 'open') {
					card.addEventListener('transitionend', setCard);
					flip();
				} else {
					setCard();
				}
			}
				function setCard() {
					var num = Math.floor(Math.random() * words.length);
					cardFront.innerHTML = words[num]['ja'];
					cardBack.innerHTML = words[num]['en'];
					card.removeEventListener('transitionend', setCard);
			}

			setCard();

			window.addEventListener('keyup', function(e) {
				// console.log(e.keyCode);
				if (e.keyCode === 70) {
					flip();
				} else if (e.keyCode === 78) {
					next();
				}
			});

			function flip() {
				card.className = card.className === '' ? 'open' : '';
			}
		})();
	</script>
</body>
</html>
