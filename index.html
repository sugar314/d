<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>第３回英単語テスト（英語➡日本語）</title>
	<link rel="stylesheet" href="stylesheet.css">
</head>
<body>	
	
	<div class="title-top">
		<h1>第３回英単語テスト</h1>	

	<div id="card">
		<div id="card-front"></div>
		<div id="card-back"></div>
	</div>
	<div id="btn">NEXT</div>
	<script>
		(function() {
			'use strict';

			var words = [
   {'ja': 'guess', 'en': '～を推測する'},
   {'ja': 'prepare', 'en': '～を準備する'},
   {'ja': 'develop', 'en': '～を発展[発達]させる'},
   {'ja': 'solve', 'en': '～を解決する'},
   {'ja': 'encourage', 'en': '～を励ます'},
   {'ja': 'expect', 'en': '～を予想[予期]する'},
   {'ja': 'deal', 'en': '<deal with Aで>A[問題など]を処理する'},
   {'ja': 'measure', 'en': '(大きさ・量・速さなど)を測る'},
   {'ja': 'demand', 'en': '～を要求する'},
   {'ja': 'contain', 'en': '(容器・本などが)～を含む'},
   {'ja': 'various', 'en': 'さまざまな'},
   {'ja': 'political', 'en': '政治(上)の'},
   {'ja': 'scientific', 'en': '科学の'},
   {'ja': 'medical', 'en': '医学の'},
   {'ja': 'whole', 'en': '<the wholeで>全体の'},
   {'ja': 'serious', 'en': '深刻な'},
   {'ja': 'single', 'en': '<a singleで>たった1つの'},
   {'ja': 'general', 'en': '一般的な'},
   {'ja': 'total', 'en': '総計の'},
   {'ja': 'necessary', 'en': '必要な'},
   {'ja': 'material', 'en': '材料'},
   {'ja': 'lack', 'en': '不足'},
   {'ja': 'decision', 'en': '決定'},
   {'ja': 'source', 'en': ' (物・事の)源'},
   {'ja': 'risk', 'en': '危険(性)'},
   {'ja': 'bill', 'en': '請求書'},
   {'ja': 'professor', 'en': '(大学の)教授'},
   {'ja': 'diet', 'en': '(日常の)食事'},
   {'ja': 'quality', 'en': '質'},
   {'ja': 'data', 'en': 'データ'},
   {'ja': 'note', 'en': 'メモ'},
   {'ja': 'challenge', 'en': '難題'},
   {'ja': 'function', 'en': '機能'},
   {'ja': 'article', 'en': '記事'},
   {'ja': 'shape', 'en': '形'},
   {'ja': 'middle', 'en': '<the middleで>中央'},
   {'ja': 'goal', 'en': '目標　'},
   {'ja': 'image', 'en': 'イメージ'},
   {'ja': 'figure', 'en': '数値　'},
   {'ja': 'decade', 'en': '10年間'},
   {'ja': 'exist', 'en': '存在する'},
   {'ja': 'reduce', 'en': '(数量・程度など)を減らす'},
   {'ja': 'gain', 'en': '～を得る'},
   {'ja': 'require', 'en': '～を必要とする'},
   {'ja': 'prove', 'en': '～を証明する　'},
   {'ja': 'prevent', 'en': '<prevent A from doingで>Aが～するのを妨げる'},
   {'ja': 'compare', 'en': '<compare A with[to] Bで>AをBと比較する'},
   {'ja': 'adapt', 'en': '～を適合させる'},
   {'ja': 'conduct', 'en': '～を行う'},
   {'ja': 'prefer', 'en': '<prefer A to Bで>BよりAが好きである'},
   {'ja': 'successful', 'en': '成功した'},
   {'ja': 'due', 'en': '<due to Aで>Aが原因で'},
   {'ja': 'available', 'en': '利用できる'},
   {'ja': 'western', 'en': '<Westernで>西洋の　'},
   {'ja': 'personal', 'en': '個人の'},
   {'ja': 'ancient', 'en': '古代の'},
   {'ja': 'used', 'en': '<be used to Aで>Aに慣れている　'},
   {'ja': 'native', 'en': '出生地の'},
   {'ja': 'daily', 'en': '毎日の'},
   {'ja': 'correct', 'en': '正しい'}
			];


			var card = document.getElementById('card');
			var cardFront = document.getElementById('card-front');
			var cardBack = document.getElementById('card-back');
			var btn = document.getElementById('btn');
			card.addEventListener('click', function() {
				flip();
			});
			btn.addEventListener('click', function() {
				next();
			});

			function next() {
				if (card.className === 'open') {
					card.addEventListener('transitionend', setCard);
					flip();
				} else {
					setCard();
				}
			}
				function setCard() {
					var num = Math.floor(Math.random() * words.length);
					cardFront.innerHTML = words[num]['ja'];
					cardBack.innerHTML = words[num]['en'];
					card.removeEventListener('transitionend', setCard);
			}

			setCard();

			window.addEventListener('keyup', function(e) {
				// console.log(e.keyCode);
				if (e.keyCode === 70) {
					flip();
				} else if (e.keyCode === 78) {
					next();
				}
			});

			function flip() {
				card.className = card.className === '' ? 'open' : '';
			}
		})();
	</script>
</body>
</html>
